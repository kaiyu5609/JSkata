{"version":3,"file":"kyue.js","sources":["../src/shared/util.ts","../src/core/util/debug.ts","../src/core/util/options.ts","../src/core/util/lang.ts","../src/core/util/index.ts","../src/core/observer/dep.ts","../node_modules/util/support/isBuffer.js","../node_modules/inherits/inherits_browser.js","../node_modules/inherits/inherits.js","../node_modules/util/util.js","../src/core/observer/scheduler.ts","../src/core/observer/watcher.ts","../src/core/instance/lifecycle.ts","../src/core/vdom/vnode.ts","../src/core/observer/array.ts","../src/core/observer/index.ts","../src/core/instance/state.ts","../src/core/vdom/create-component.ts","../src/core/vdom/create-element.ts","../src/core/render-helpers/render-list.ts","../src/core/render-helpers/index.ts","../src/core/instance/render.ts","../src/core/instance/init.ts","../src/core/vdom/helpers/update-listeners.ts","../src/runtime/modules/events.ts","../src/core/vdom/patch.ts","../src/compiler/parser/html-parser.ts","../src/compiler/helpers.ts","../src/compiler/parser/text-parser.ts","../src/compiler/parser/index.ts","../src/compiler/codegen/events.ts","../src/compiler/codegen/index.ts","../src/compiler/to-function.ts","../src/compiler/modules/class.ts","../src/compiler/modules/index.ts","../src/compiler/index.ts","../src/core/instance/index.ts"],"sourcesContent":["// 这些助手由于其明确性和功能内联性，因此可以在JS引擎中生成更好的VM代码。\nexport function isUndef (v: any): boolean {\n    return v === undefined || v === null\n}\n\nexport function isDef (v: any): boolean {\n    return v !== undefined && v !== null\n}\n\nexport function isTrue (v: any): boolean {\n    return v === true\n}\n\nexport function isFalse (v: any): boolean {\n    return v === false\n}\n\n/**\n * 检查值是否为基础类型的\n * @param value \n */\nexport function isPrimitive (value: any): boolean {\n    return (\n        typeof value === 'string' ||\n        typeof value === 'number' ||\n        typeof value === 'symbol' ||\n        typeof value === 'boolean'\n    )\n}\n\n/**\n * 快速对象检查-当我们知道值是JSON兼容类型时，主要用于从原始值告诉对象\n * @param obj \n */\nexport function isObject (obj: any): boolean {// TODO mixed\n    return obj !== null && typeof obj === 'object'\n}\n\n/**\n * 获取值的原始类型字符串，例如：[object Object]\n */\nconst _toString = Object.prototype.toString\n\nexport function toRawType (value: any): string {\n    return _toString.call(value).slice(8, -1)\n}\n\nexport function isPlainObject (obj: any): boolean {\n    return _toString.call(obj) === '[object Object]'\n}\n\nexport function isRegExp (v: any): boolean {\n    return _toString.call(v) === '[object RegExp]'\n}\n\nexport function isPromise (val: any): boolean {\n    return (\n        isDef(val) && \n        typeof val.then === 'function' && \n        typeof val.catch === 'function'\n    )\n}\n\n/**\n * 将值转换为实际呈现的字符串\n * @param val \n */\nexport function toString(val: any): string {\n    return val == null \n        ? ''\n        : Array.isArray(val) || (isPlainObject(val) && val.toString === _toString)\n            ? JSON.stringify(val, null, 2)\n            : String(val)\n}\n\n/**\n * 将输入值转换为数字以保持持久性\n * 如果转换失败，则返回原始字符串\n * @param val \n */\nexport function toNumber (val: string): number | string {\n    const n = parseFloat(val)\n    return isNaN(n) ? val : n\n}\n\n/**\n * 从数组中删除项目\n * @param arr \n * @param item \n */\nexport function remove (arr: Array<any>, item: any): Array<any> | void {\n    if (arr.length) {\n        const index = arr.indexOf(item)\n        if (index > -1) {\n            return arr.splice(index, 1)\n        }\n    }\n}\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty\nexport function hasOwn (obj: Object | Array<any>, key: string): boolean {\n    return hasOwnProperty.call(obj, key)\n}\n\n/**\n * 将类似数组的对象转换为真实数组\n * @param list \n * @param start \n */\nexport function toArray (list: any, start?: number): Array<any> {\n    start = start || 0\n    let i = list.length - start\n    const ret: Array<any> = new Array(i)\n    while (i--) {\n        ret[i] = list[i + start]\n    }\n    return ret\n}\n\n/**\n * 将属性混合到目标对象中\n * @param to \n * @param from \n */\nexport function extend (to: any, from?: any): Object {// TODO Object\n    for (const key in from) {\n        to[key] = from[key]\n    }\n    return to\n}\n\n\nexport function noop(a?: any, b?: any, c?: any) {}\n\n/**\n * 返回相同的值\n * @param _ \n */\nexport const identity = (_: any) => _\n\n/**\n * 确保一个函数仅被调用一次\n * @param fn \n */\nexport function once (fn: Function): Function {\n    let called = false\n    return function() {\n        if (!called) {\n            called = true\n            fn.apply(this, arguments)\n        }\n    }\n}\n\nexport const bind = function(fn: Function, ctx: any): Function {\n    return fn.bind(ctx)\n}","import { noop } from '../../shared/util'\n\nexport let warn = noop\n\n\nif (process.env.NODE_ENV !== 'production') {\n    const hasConsole = typeof console !== 'undefined'\n\n    warn = (msg, vm) => {\n        const trace = ''// TODO\n\n        // TODO\n        if (hasConsole) {\n            console.error(`[Kyue warn]: ${msg}${trace}`)\n        }\n    }\n}","import { hasOwn } from '../../shared/util'\n\nconst strats: any = {}\n\n/**\n * Default strategy\n */\nconst defaultStrat = function(parentVal: any, childVal: any): any {\n    return childVal === undefined\n        ? parentVal\n        : childVal\n}\n\n\n/**\n * \n * @param parent \n * @param child \n * @param vm \n */\nexport function mergeOptions(\n    parent: any,\n    child: any,\n    vm?: any\n) {\n\n\n    const options: any = {}\n    let key\n    for (key in parent) {\n        mergeField(key)\n    }\n    for (key in child) {\n        if (!hasOwn(parent, key)) {\n            mergeField(key)\n        }\n    }\n    function mergeField(key: string) {\n        const strat = strats[key] || defaultStrat\n        options[key] = strat(parent[key], child[key], vm, key)\n    }\n    return options\n}","/**\n * 用于解析html标签，组件名称和属性路径的unicode字母。\n */\nexport const unicodeRegExp = /a-zA-Z\\u00B7\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u203F-\\u2040\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD/\n\n\n/**\n * Define a property\n */\nexport function def(obj: Object, key: string, val: any, enumerable?: boolean) {\n    Object.defineProperty(obj, key, {\n        value: val,\n        enumerable: !!enumerable,\n        writable: true,\n        configurable: true\n    })\n}","\nexport * from '../../shared/util'\nexport * from './debug'\nexport * from './options'\nexport * from './lang'\n\n/**\n * 选择元素\n * @param el 元素id、class、DOM \n */\nexport function query(el: string | Element): Element {\n    if (typeof el === 'string') {\n        const selected = document.querySelector(el)\n        if (!selected) {\n            process.env.NODE_ENV !== 'production' && console.log('Cannot find element: ' + el)\n            return document.createElement('div')\n        }\n        return selected\n    } else {\n        return el\n    }\n}","import Watcher from './watcher'\nimport { remove } from '../util/index'\n\n// 全局配置 TODO\nconst config: any = {\n    async: true\n}\n\nlet uid = 0\n\n/**\n * 一个dep是一个可观察的对象，可以有多个订阅它的指令。\n * 建立数据与watcher之间的桥梁\n */\nexport default class Dep {\n    static target?: Watcher;\n    id: number;\n    subs: Array<Watcher>;\n\n    constructor() {\n        this.id = uid++\n        this.subs = []\n    }\n\n    addSub(sub: Watcher) {\n        this.subs.push(sub)\n    }\n\n    removeSub(sub: Watcher) {\n        remove(this.subs, sub)\n    }\n\n    depend() {\n        if (Dep.target) {\n            Dep.target.addDep(this)\n        }\n    }\n\n    notify() {\n        // 首先稳定订户列表\n        const subs = this.subs.slice()\n\n        if (process.env.NODE_ENV !== 'production' && !config.async) {\n            /**\n             * 如果是同步，则不会在调度进程中对subs进行排序，\n             * 而是需要立即对其进行排序，以确保它们以正确的顺序触发\n             */\n            subs.sort((a: any, b: any) => a.id - b.id)\n        }\n\n        let sub: any\n        for (let i = 0, l = subs.length; i < l; i++) {\n            sub = subs[i]\n            sub.update()\n        }\n    }\n}\n\n/**\n * 当前正在评估的目标观察者。\n * 这是全局唯一的，因为一次只有一个观察者可以评估\n */\nDep.target = null\nconst targetStack: Array<Watcher> = []\n\nexport function pushTarget(target?: Watcher) {\n    targetStack.push(target)\n    Dep.target = target\n}\n\nexport function popTarget() {\n    targetStack.pop()\n    Dep.target = targetStack[targetStack.length - 1]\n}","module.exports = function isBuffer(arg) {\n  return arg instanceof Buffer;\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","try {\n  var util = require('util');\n  if (typeof util.inherits !== 'function') throw '';\n  module.exports = util.inherits;\n} catch (e) {\n  module.exports = require('./inherits_browser.js');\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors ||\n  function getOwnPropertyDescriptors(obj) {\n    var keys = Object.keys(obj);\n    var descriptors = {};\n    for (var i = 0; i < keys.length; i++) {\n      descriptors[keys[i]] = Object.getOwnPropertyDescriptor(obj, keys[i]);\n    }\n    return descriptors;\n  };\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  if (typeof process !== 'undefined' && process.noDeprecation === true) {\n    return fn;\n  }\n\n  // Allow for deprecating things in the process of starting up.\n  if (typeof process === 'undefined') {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nvar kCustomPromisifiedSymbol = typeof Symbol !== 'undefined' ? Symbol('util.promisify.custom') : undefined;\n\nexports.promisify = function promisify(original) {\n  if (typeof original !== 'function')\n    throw new TypeError('The \"original\" argument must be of type Function');\n\n  if (kCustomPromisifiedSymbol && original[kCustomPromisifiedSymbol]) {\n    var fn = original[kCustomPromisifiedSymbol];\n    if (typeof fn !== 'function') {\n      throw new TypeError('The \"util.promisify.custom\" argument must be of type Function');\n    }\n    Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n      value: fn, enumerable: false, writable: false, configurable: true\n    });\n    return fn;\n  }\n\n  function fn() {\n    var promiseResolve, promiseReject;\n    var promise = new Promise(function (resolve, reject) {\n      promiseResolve = resolve;\n      promiseReject = reject;\n    });\n\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n    args.push(function (err, value) {\n      if (err) {\n        promiseReject(err);\n      } else {\n        promiseResolve(value);\n      }\n    });\n\n    try {\n      original.apply(this, args);\n    } catch (err) {\n      promiseReject(err);\n    }\n\n    return promise;\n  }\n\n  Object.setPrototypeOf(fn, Object.getPrototypeOf(original));\n\n  if (kCustomPromisifiedSymbol) Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n    value: fn, enumerable: false, writable: false, configurable: true\n  });\n  return Object.defineProperties(\n    fn,\n    getOwnPropertyDescriptors(original)\n  );\n}\n\nexports.promisify.custom = kCustomPromisifiedSymbol\n\nfunction callbackifyOnRejected(reason, cb) {\n  // `!reason` guard inspired by bluebird (Ref: https://goo.gl/t5IS6M).\n  // Because `null` is a special error value in callbacks which means \"no error\n  // occurred\", we error-wrap so the callback consumer can distinguish between\n  // \"the promise rejected with null\" or \"the promise fulfilled with undefined\".\n  if (!reason) {\n    var newReason = new Error('Promise was rejected with a falsy value');\n    newReason.reason = reason;\n    reason = newReason;\n  }\n  return cb(reason);\n}\n\nfunction callbackify(original) {\n  if (typeof original !== 'function') {\n    throw new TypeError('The \"original\" argument must be of type Function');\n  }\n\n  // We DO NOT return the promise as it gives the user a false sense that\n  // the promise is actually somehow related to the callback's execution\n  // and that the callback throwing will reject the promise.\n  function callbackified() {\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n\n    var maybeCb = args.pop();\n    if (typeof maybeCb !== 'function') {\n      throw new TypeError('The last argument must be of type Function');\n    }\n    var self = this;\n    var cb = function() {\n      return maybeCb.apply(self, arguments);\n    };\n    // In true node style we process the callback on `nextTick` with all the\n    // implications (stack, `uncaughtException`, `async_hooks`)\n    original.apply(this, args)\n      .then(function(ret) { process.nextTick(cb, null, ret) },\n            function(rej) { process.nextTick(callbackifyOnRejected, rej, cb) });\n  }\n\n  Object.setPrototypeOf(callbackified, Object.getPrototypeOf(original));\n  Object.defineProperties(callbackified,\n                          getOwnPropertyDescriptors(original));\n  return callbackified;\n}\nexports.callbackify = callbackify;\n","import Watcher from './watcher'\nimport { warn } from '../util/index'\n\nexport const MAX_UPDATE_COUNT = 100\n\nconst queue: Array<Watcher> = []\nlet has: any = {}// TODO\nlet circular: any = {}// TODO\nlet waiting = false\nlet flushing = false\nlet index = 0\n\n\n/**\n * 重置调度程序的状态。\n */\nfunction resetSchedulerState() {\n    index = queue.length = 0\n    has = {}\n    if (process.env.NODE_ENV !== 'production') {\n        circular = {}\n    }\n    waiting = flushing = false\n}\n\n\n\n/**\n * 刷新队列并运行watchers。\n */\nfunction flushSchedulerQueue() {\n    flushing = true\n\n    let watcher, id\n\n    /**\n     * 先排序，然后再flush\n     * 这样可以确保:\n     * 1. 组件从父到子更新。 （因为父级总是在子级之前创建的）\n     * 2. 组件用户自定义的watchers在渲染watcher之前运行\n     *  （因为用户自定义的watchers是在渲染watcher之前创建的）\n     * 3. 如果在父组件的watcher运行期间销毁了一个组件，则可以跳过该watcher\n     */\n    queue.sort((a, b) => a.id - b.id)\n\n    /**\n     * 不缓存长度，因为在我们运行现有watchers时可能会推送更多的watchers\n     */\n\n    for (index = 0; index < queue.length; index++) {\n        watcher = queue[index]\n\n        if (watcher.before) {\n            watcher.before()\n        }\n\n        id = watcher.id\n        has[id] = null\n        watcher.run()\n\n        // 在开发版本中，检查并停止循环更新。\n        if (process.env.NODE_ENV !== 'production' && has[id] != null) {\n            circular[id] = (circular[id] || 0) + 1\n\n            if (circular[id] > MAX_UPDATE_COUNT) {\n                warn(\n                    'You may have an infinite update loop' + (\n                        watcher.user\n                            ? `in watcher with expression \"${watcher.expression}\"`\n                            : `in a component render function.`\n                    ),\n                    watcher.vm\n                )\n                break\n            }\n        }\n    }\n\n    resetSchedulerState()\n}\n\n\n\n/**\n * 将观察者推送到观察者队列中。 \n * 具有重复ID的作业将被跳过，除非在刷新队列时，被推送到队列中\n * @param watcher \n */\nexport function queueWatcher(watcher: Watcher) {\n    const id = watcher.id\n\n    if (has[id] == null) {\n        has[id] = true\n\n        if (!flushing) {\n            queue.push(watcher)\n        } else {\n            /**\n             * 在flush的过程中，又执行queueWatcher时\n             * 需要将当前的watcher插入到按id排序的合适位置，\n             * 如果watcher已经在queue队列中，那么它将立即被运行\n             */\n            let i = queue.length - 1\n\n            while (i < index && queue[i].id > watcher.id) {\n                i--\n            }\n\n            queue.splice(i + 1, 0, watcher)\n        }\n\n        /**\n         * queue the flush\n         * 保证只执行一次\n         */\n        if (!waiting) {\n            waiting = true\n\n            /**\n             * TODO\n             * nextTick(flushSchedulerQueue)\n             */ \n            setTimeout(flushSchedulerQueue, 0)\n        }\n\n    }\n}","import Dep, { pushTarget, popTarget } from './dep'\nimport { noop } from '../util/index'\nimport { isObject } from 'util'\nimport { queueWatcher } from './scheduler'\n\nlet uid = 0\n\n/**\n * 一个监视程序解析表达式，收集依赖项，并在表达式的值更改时触发回调。\n * 这用于$watch() api和指令。\n */\nexport default class Watcher {\n    vm: any;// TODO\n    expression: string;\n    cb: Function;\n    id: number;\n    deep: boolean;\n    user: boolean;\n    lazy: boolean;\n    sync: boolean;\n    dirty: boolean;\n    active: boolean;\n    deps: Array<Dep>;\n    newDeps: Array<Dep>;\n    depIds: any;// TODO\n    newDepIds: any;// TODO\n    before?: any | Function;// TODO\n    getter: Function;\n    value: any;\n    \n    constructor(\n        vm: any,\n        expOrFn: string | Function,\n        cb: Function,\n        options?: any,// TODO\n        isRenderWatcher?: boolean\n    ) {\n        this.vm = vm\n\n        if (isRenderWatcher) {\n            vm._watcher = this\n        }\n\n        vm._watchers.push(this)\n\n        if (options) {\n            this.deep = !!options.deep\n            this.user = !!options.user\n            this.lazy = !!options.lazy\n            this.sync = !!options.sync\n            this.before = options.before\n        } else {\n            this.deep = this.user = this.lazy = this.sync = false\n        }\n\n        this.cb = cb\n        this.id = ++uid\n        this.active = true\n        this.dirty = this.lazy\n        this.deps = []\n        this.newDeps = []\n        this.depIds = new Set()\n        this.newDepIds = new Set()\n        this.expression = process.env.NODE_ENV !== 'production' \n            ? expOrFn.toString()\n            : ''\n\n        // 为getter解析表达式\n        if (typeof expOrFn === 'function') {\n            this.getter = expOrFn\n        } else {\n            // TODO\n            this.getter = noop\n        }\n\n        // 此处源码有调整\n        this.value = this.lazy ? undefined : this.get()\n    }\n\n    /**\n     * 评估getter，然后重新收集依赖关系。\n     */\n    get() {\n        pushTarget(this)\n\n        let value\n        const vm = this.vm\n\n        try {\n            // this.getter -> updateComponent\n            value = this.getter.call(vm, vm)\n        } catch (e) {\n            if (this.user) {\n                // TODO\n            } else {\n                throw e\n            }\n        } finally {\n            // deep watch\n            if (this.deep) {\n                // TODO\n            }\n\n            popTarget()\n            this.cleanupDeps()\n        }\n\n        return value\n    }\n\n    /**\n     * 向此指令添加依赖项。\n     * @param dep \n     */\n    addDep(dep: Dep) {\n        const id = dep.id\n        if (!this.newDepIds.has(id)) {\n            this.newDepIds.add(id)\n            this.newDeps.push(dep)\n            if (!this.depIds.has(id)) {\n                dep.addSub(this)\n            }\n        }\n    }\n\n    /**\n     * 清理依赖项集合。\n     */\n    cleanupDeps() {\n        let i = this.deps.length\n\n        while (i--) {\n            const dep = this.deps[i]\n\n            if (!this.newDepIds.has(dep.id)) {\n                dep.removeSub(this)\n            }\n        }\n\n        let tmp = this.depIds\n\n        this.depIds = this.newDepIds\n        this.newDepIds = tmp\n        this.newDepIds.clear()\n        tmp = this.deps\n        this.deps = this.newDeps\n        this.newDeps = tmp\n        this.newDeps.length = 0\n    }\n\n    /**\n     * Subscriber 接口\n     * 依赖项更改时将调用\n     */\n    update() {\n        if (this.lazy) {\n            this.dirty = true\n        } else if (this.sync) {\n            // 同步watcher，TODO\n            // this.run()\n        } else {\n            queueWatcher(this)\n        }\n    }\n\n    /**\n     * 调度作业接口。 \n     * 由调度程序调用。\n     */\n    run() {\n        if (this.active) {\n            const value = this.get()\n\n            if (\n                value !== this.value || \n                /**\n                 * 即使值相同，深度观察者和对象/数组上的观察者也应触发，\n                 * 因为该值可能已突变。\n                 */\n                isObject(value) || \n                this.deep\n            ) {\n                // set new value\n                const oldValue = this.value\n                this.value = value\n\n                if (this.user) {\n                    try {\n                        this.cb.call(this.vm, value, oldValue)\n                    } catch (e) {\n                        // TODO\n                    }\n                } else {\n                    this.cb.call(this.vm, value, oldValue)\n                }\n            }\n        }\n    }\n}\n","import Watcher from '../observer/watcher'\nimport { noop } from '../util/index'\n\nexport let activeInstance: any = null\n\nexport function lifecycleMixin(Kyue: any) {\n    Kyue.prototype._update = function(vnode: any, hydrating?: boolean) {\n        const vm = this\n        const prevVnode = vm._vnode\n        const prevActiveInstance = activeInstance\n        activeInstance = vm\n\n        vm._vnode = vnode\n\n        if (!prevVnode) {\n            // initial render\n            vm.$el = vm.__patch__(vm.$el, vnode, hydrating, false)\n        } else {\n            // updates\n            vm.$el = vm.__patch__(prevVnode, vnode)\n        }\n        activeInstance = prevActiveInstance\n\n    }\n}\n\nexport function initLifecycle(vm: any) {\n    const options = vm.$options\n\n    let parent = options.parent\n    if (parent) {\n        parent.$children.push(vm)\n    }\n\n    vm.$parent = parent\n    vm.$root = parent ? parent.$root : vm\n\n    vm.$children = []\n}\n\nexport function mountComponent(vm: any, el: Element, hydrating?: boolean) {\n    vm.$el = el\n\n    let updateComponent = () => {\n        vm._update(vm._render(), hydrating)\n    }\n\n    // updateComponent()\n\n    new Watcher(vm, updateComponent, noop, {\n        before() {\n            // console.log('----------before flushSchedulerQueue----------')\n        }\n    }, true)/* isRenderWatcher */\n\n\n    // km上其实没有该方法 TODO\n    // vm.updateComponent = updateComponent\n\n    return vm\n}","export default class VNode {\n    tag: string | void;\n    data: any;\n    children: any;\n    text: string;\n    elm: any;\n    context: any;\n    componentOptions: any;\n\n    constructor(\n        tag?: string, \n        data?: any, \n        children?: any, \n        text?: string, \n        elm?: Element,\n        context?: any,\n        componentOptions?: any,\n    ) {\n        this.tag = tag\n        this.data = data\n        this.children = children\n\n        this.text =  text\n        this.elm = elm\n\n        this.context = context\n        this.componentOptions = componentOptions\n    }\n}\n\nexport const createEmptyVNode = (text: string = '') => {\n    const node = new VNode()\n    node.text = text\n    return node\n}\n\nexport function createTextVNode (val: string | number) {\n    return new VNode(undefined, undefined, undefined, String(val))\n}\n\nexport function cloneVNode (vnode: VNode): VNode {\n    const cloned = new VNode()\n\n    return cloned;\n}","import { def, toArray } from '../util/index'\n\nconst arrayProto: any = Array.prototype\nexport const arrayMethods = Object.create(arrayProto)\n\nconst methodsToPatch = [\n    'push',\n    'pop',\n    'shift',\n    'unshift',\n    'splice',\n    'sort',\n    'reverse'\n]\n\n/**\n * 拦截变异方法并发出事件\n */\nmethodsToPatch.forEach((method) => {\n    // 缓存原始的方法\n    const original = arrayProto[method]\n    \n    def(arrayMethods, method, function mutator() {\n        let args = toArray(arguments)\n        const result = original.apply(this, args)\n        const ob = this.__ob__\n        let inserted\n\n        switch (method) {\n            case 'push':\n            case 'unshift':\n                inserted = args\n                break\n            case 'splice':\n                inserted = args.slice(2)\n                break\n        }\n\n        if (inserted) ob.observeArray(inserted)\n\n        // 通知变更\n        ob.dep.notify()\n\n        return result\n    })\n})","import { isObject, hasOwn, isPlainObject, def } from '../util/index'\nimport VNode from '../vdom/vnode'\nimport { arrayMethods } from './array'\nimport Dep from './dep'\n\n\nexport let shouldObserve: boolean = true\n\n/**\n * 附加到每个观察对象的Observer类。\n * 附加后，观察者将目标对象的属性转换为\n * 用于收集依赖关系并调度更新的getter/setter\n */\nexport class Observer {\n    value: any;\n    vmCount: number;\n\n    constructor(value: any) {\n        this.value = value\n        this.vmCount = 0\n\n        // 缓存当前实例到__ob__，并且不作枚举\n        def(value, '__ob__', this)\n        if (Array.isArray(value)) {\n            // TODO\n            protoAugment(value, arrayMethods)\n\n            this.observeArray(value)\n        } else {\n            this.walk(value)\n        }\n    }\n\n    /**\n     * 遍历所有属性并将它们转换为getter/setter。\n     * 仅当值类型为Object时才应调用此方法\n     * @param obj \n     */\n    walk(obj: Object) {\n        const keys = Object.keys(obj)\n        for (let i = 0; i < keys.length; i++) {\n            defineReactive(obj, keys[i])\n        }\n    }\n\n    /**\n     * 观察数组\n     * @param items \n     */\n    observeArray(items: Array<any>) {\n        for (let i = 0, l = items.length; i < l; i++) {\n            observe(items[i])\n        }\n    }\n\n}\n\n// helpers\n\n/**\n * 通过截取原型链__proto__，来增强目标对象或数组\n * @param value \n * @param asRootData \n */\nfunction protoAugment(target: any, src: Object) {\n    target.__proto__ = src\n}\n\n\n/**\n * 尝试为某个值创建一个观察者实例，\n * 如果成功观察到该观察者，则返回新观察者，\n * 如果该值已经包含一个观察者，则返回现有观察者。\n * @param value \n * @param asRootData \n */\nexport function observe(value: any, asRootData?: boolean) {\n    if (!isObject(value) || value instanceof VNode) {\n        return\n    }\n\n    let ob: Observer | void\n\n    if (hasOwn(value, '__ob__') && value.__ob__ instanceof Observer) {\n        ob = value.__ob__\n    } else if (\n        shouldObserve && \n        // !isServerRendering() && // TODO\n        (Array.isArray(value) || isPlainObject(value)) && \n        Object.isExtensible(value) && \n        !value._isKyue\n    ) {\n        ob = new Observer(value)\n    }\n\n    if (asRootData && ob) {\n        ob.vmCount++\n    }\n\n    return ob\n}\n\n/**\n * 在对象上定义反应性属性。\n * @param obj \n * @param key \n * @param val \n * @param constructor \n * @param shallow \n */\nexport function defineReactive(\n    obj: any,\n    key: string,\n    val?: any,\n    customSetter?: Function,\n    shallow?: boolean// 是否深度观测\n) {\n    const dep = new Dep()\n\n    const property = Object.getOwnPropertyDescriptor(obj, key)\n    if (property && property.configurable === false) {\n        return\n    }\n\n    const getter = property && property.get\n    const setter = property && property.set\n\n    if ((!getter || setter) && arguments.length === 2) {\n        val = obj[key]\n    }\n\n    // 递归观测，当然前提val不是基础类型，observe中已作判断\n    let childOb: any = !shallow && observe(val)\n\n    Object.defineProperty(obj, key, {\n        enumerable: true,\n        configurable: true,\n        get: function reactiveGetter() {\n            const value = getter ? getter.call(obj) : val\n            console.log('getter:', value)\n\n            /***********************依赖收集*************************/ \n            if (Dep.target) {\n                dep.depend()\n            }\n            /***********************依赖收集*************************/ \n\n            return value\n        },\n        set: function reactiveSetter(newVal) {\n            console.log('setter:', newVal)\n            const value = getter ? getter.call(obj) : val\n\n            // 新旧的值没有发生改变\n            if (newVal === value || (newVal !== newVal && value !== value)) {\n                return\n            }\n\n            if (process.env.NODE_ENV !== 'production' && customSetter) {\n                customSetter()\n            }\n\n            // 用于没有setter的访问器属性\n            if (getter && !setter) return\n\n            if (setter) {\n                setter.call(obj, newVal)\n            } else {\n                val = newVal\n            }\n\n            // 递归观测，当然前提val不是基础类型，observe中已作判断\n            childOb = !shallow && observe(newVal)\n\n            /***********************派发更新*************************/ \n            dep.notify()\n            /***********************派发更新*************************/ \n        }\n    })\n}","import { noop, bind } from '../util/index'\nimport { observe } from '../observer/index'\n\nconst sharedPropertyDefinition = {\n    enumerable: true,\n    configurable: true,\n    get: noop,\n    set: noop\n}\n\nexport function proxy(target: Object, sourceKey: string, key: string) {\n    sharedPropertyDefinition.get = function proxyGetter() {\n        return this[sourceKey][key]\n    }\n    sharedPropertyDefinition.set = function proxySetter(val) {\n        this[sourceKey][key] = val\n    }\n    Object.defineProperty(target, key, sharedPropertyDefinition)\n}\n\n\nexport function initState(vm: any) {\n    // 初始化vm的监视器列表\n    vm._watchers = []\n\n    const opts = vm.$options\n\n    if (opts.methods) {\n        initMethods(vm, opts.methods)\n    }\n    \n    if (opts.data) {\n        initData(vm)\n    }\n}\n\n\nfunction initData(vm: any) {\n    let data = vm.$options.data\n\n    data = vm._data = typeof data === 'function' ? getData(data, vm) : data || {}\n\n    const keys = Object.keys(data)\n\n    let i = keys.length\n\n    while (i--) {\n        const key = keys[i]\n\n        proxy(vm, `_data`, key)\n    }\n\n    // observe data\n    observe(data, true)/* asRootData */\n}\n\nexport function getData(data: Function, vm: any): any {\n    try {\n        return data.call(vm, vm)\n    } catch (e) {\n        // TODO\n        return {}\n    } finally {\n\n    }\n}\n\nfunction initMethods(vm: any, methods: any) {\n\n    for (const key in methods) {\n        vm[key] = typeof methods[key] !== 'function' ? noop : bind(methods[key], vm)\n    }\n}","import { isUndef, warn, isObject } from '../util/index'\nimport VNode from './vnode'\nimport { activeInstance } from '../instance/lifecycle'\n\n\nconst componentVNodeHooks: any = {\n    init(vnode: any, hydrating: boolean) {\n        const child = vnode.componentInstance = createComponentInstanceForVnode(vnode, activeInstance)\n        child.$mount(hydrating ? vnode.elm : undefined, hydrating)\n    },\n    prepatch(oldVnode: any, vnode: any) {\n\n    },\n    insert(vnode: any) {\n\n    },\n    destroy(vnode: any) {\n\n    }\n}\n\nconst hooksToMerge = Object.keys(componentVNodeHooks)\n\n\nexport function createComponent (\n    Ctor: any | void,\n    data?: any,\n    context?: any,\n    children?: any,\n    tag?: string\n) {\n\n    if (isUndef(Ctor)) {\n        return\n    }\n\n    const baseCtor = context.$options._base// Kyue\n\n    if (isObject(Ctor)) {\n        Ctor = baseCtor.extend(Ctor)\n    }\n\n    if (typeof Ctor !== 'function') {\n        if (process.env.NODE_ENV !== 'production') {\n            warn(`Invalid Component definition: ${String(Ctor)}`, context)\n        }\n        return\n    }\n\n    data = data || {}\n    \n    let propsData = {}\n\n    let listeners = {}\n\n    intallComponentHooks(data)\n\n    const name = Ctor.options.name || tag || 'app'// TODO\n    const vnode = new VNode(\n        `kyue-component-${Ctor.cid}${name ? `-${name}` : ''}`,\n        data, undefined, undefined, undefined, context,\n        { Ctor, propsData, listeners, tag, children }\n    ) \n    \n    return vnode\n}\n\nexport function createComponentInstanceForVnode(\n    vnode: any, \n    parent: any// 当前vm的实例\n) {\n    const options: any = {\n        _isComponent: true,\n        _parentVnode: vnode,// 组件vnode，即占位符vnode\n        parent\n    }\n\n    return new vnode.componentOptions.Ctor(options)\n}\n\nfunction intallComponentHooks(data: any) {\n    const hooks = data.hook || (data.hook = {})\n    for (let i = 0; i < hooksToMerge.length; i++) {\n        const key = hooksToMerge[i]\n        const existing = hooks[key]\n        const toMerge = componentVNodeHooks[key]\n        if (existing !== toMerge && !(existing && existing._merged)) {\n            hooks[key] = existing ? mergeHook(toMerge, existing) : toMerge\n        }\n    }\n}\n\nfunction mergeHook(f1: any, f2: any): Function {\n    const merged = (a: any, b: any) => {\n        f1(a, b)\n        f2(a, b)\n    }\n    merged._merged = true\n    return merged\n}","import VNode, { createTextVNode } from './vnode'\nimport { createComponent } from './create-component'\n\nimport {\n    isPrimitive, isTrue\n} from '../util/index'\n\n\nconst SIMPLE_NORMALIZE = 1\nconst ALWAYS_NORMALIZE = 2\n\n/**\n * 包装函数，以提供更灵活的界面\n * 不会被流程大吼大叫\n * @param context \n * @param tag \n * @param data \n * @param children \n */\nexport function createElement(\n    context: any, \n    tag: any, \n    data: any, \n    children: any,\n    normalizationType: any,\n    alwaysNormalize: boolean\n) {\n    if (Array.isArray(data) || isPrimitive(data)) {\n        normalizationType = children\n        children = data\n        data = undefined\n    }\n\n    if (isTrue(alwaysNormalize)) {\n        normalizationType = ALWAYS_NORMALIZE\n    }\n\n    return _createElement(context, tag, data, children, normalizationType)\n}\n\nexport function _createElement(\n    context: any, \n    tag?: any, \n    data?: any, \n    children?: any,\n    normalizationType?: number\n) {\n\n    if (normalizationType === ALWAYS_NORMALIZE) {\n        // 将children转化成Array<VNode>，如：文本节点也会转化成[VNode]\n        children = normalizeChildren(children)\n    } else if (normalizationType === SIMPLE_NORMALIZE) {\n        // 将二维Array<VNode>拍成一维Array<VNode>\n        children = simpleNormalizeChildren(children)\n    }\n\n    let vnode\n\n    if (typeof tag === 'string') {\n        // 普通节点\n        vnode = new VNode(tag, data, children)\n    } else {\n        // 组件\n        vnode = createComponent(tag, data, context, children)\n    }\n\n    return vnode\n}\n\n\n/**\n * TODO\n * @param children \n */\nfunction simpleNormalizeChildren(children: any) {\n    return children\n}\n\n/**\n * TODO\n */\nfunction normalizeChildren(children: any) {\n    return isPrimitive(children) \n        ? [createTextVNode(children)]\n        : Array.isArray(children) \n            ? children\n            : undefined\n}","import VNode from '../vdom/vnode'\nimport { isDef } from '../util/index'\n\n\n// k-for\nexport function renderList(\n    val: any,\n    render: Function\n): Array<VNode> | void {\n    let ret: any, i, l\n\n    if (Array.isArray(val) || typeof val === 'string') {\n        ret = new Array(val.length)\n        for (i = 0, l = val.length; i < l; i++) {\n            ret[i] = render(val[i], i)\n        }\n    }\n    // TODO\n    \n\n    if (!isDef(ret)) {\n        return []\n    }\n\n    ret._isKyList = true\n\n    return ret\n}","import { toString } from '../../shared/util'\nimport { renderList } from './render-list'\nimport { createTextVNode, createEmptyVNode } from '../vdom/vnode'\n\nexport function installRenderHelpers(target: any) {\n    target._s = toString\n    target._l = renderList\n    target._v = createTextVNode\n    target._e = createEmptyVNode\n}","import { createElement } from '../vdom/create-element'\nimport { installRenderHelpers } from '../render-helpers/index'\n\nexport function renderMixin(Kyue: any) {\n\n    installRenderHelpers(Kyue.prototype)\n\n    Kyue.prototype._render = function() {\n        const vm = this\n        const { render, _parentVnode } = vm.$options\n\n        // 占位符vnode，初始化 _parentVnode 为 undefined\n        vm.$vnode = _parentVnode\n        // console.log('_render:', 'vm.$vnode = _parentVnodes (' + (_parentVnode && _parentVnode.tag) + ')')\n\n        let vnode\n        try {\n            vnode = render.call(vm, vm.$createElement)\n        } catch (e) {\n\n        } finally {\n\n        }\n\n        // 占位符vnode是渲染vnode的父级\n        vnode.parent = _parentVnode\n\n        return vnode\n    }\n}\n\nexport function initRender(vm: any) {\n    vm._vnode = null\n\n    const options = vm.$options\n    const parentVnode = vm.$vnode = options._parentVnode\n\n    vm._c = (a: any, b: any, c: any, d: any) => createElement(vm, a, b, c, d, false)\n    vm.$createElement = (a: any, b: any, c: any, d: any) => createElement(vm, a, b, c, d, true)\n}\n\n","import { initLifecycle } from './lifecycle'\nimport { initState } from './state'\nimport { initRender } from './render'\nimport { mergeOptions } from '../util/index'\n\nlet uid = 0\n\nexport function initMixin(Kyue: any) {\n    Kyue.prototype._init = function(options?: any) {\n        console.log('_init:', 'vm\\'s init')\n\n        const vm = this\n\n        vm._uid = uid++\n        \n        vm._isKyue = true\n\n        if (options && options._isComponent) {\n            // 优化内部组件实例化，因为动态选项合并非常慢，并且没有内部组件选项需要特殊处理。\n            initInternalComponent(vm, options)\n        } else {\n            vm.$options = mergeOptions(\n                resolveConstructorOptions(vm.constructor),\n                options || {},\n                vm\n            )\n        }\n        \n        vm._self = vm\n        /**\n         * 1、noop\n         */\n        initLifecycle(vm)\n        /**\n         * 1、给实例添加options.data中数据的代理 \n         */ \n        initState(vm)\n        /**\n         * 1、给实例添加$createElement方法\n         */\n        initRender(vm)\n\n        if (vm.$options.el) {\n            console.log('_init:', 'vm.$mount')\n            // 返回的是 vm\n            vm.$mount(vm.$options.el)\n        }\n\n    }\n}\n\nexport function initInternalComponent(vm: any, options: any) {\n    const opts = vm.$options = Object.create(vm.constructor.options)\n    const parentVnode = options._parentVnode\n    opts.parent = options.parent\n    opts._parentVnode = parentVnode\n\n    const vnodeComponentOptions = parentVnode.componentOptions\n    opts.propsData = vnodeComponentOptions.propsData\n    opts._parentListeners = vnodeComponentOptions.listeners\n    opts._renderChildren = vnodeComponentOptions.children\n    opts._componentTag = vnodeComponentOptions.tag\n\n    if (options.render) {\n        opts.render = options.render\n    }\n}\n\nexport function resolveConstructorOptions(Ctor: any) {\n    let options = Ctor.options\n\n\n    return options\n}","import { isUndef } from '../../util/index'\n\n\nexport function createFnInvoker(fns: Function | Array<Function>): Function {\n    function invoker() {\n        const fns = invoker.fns\n        if (Array.isArray(fns)) {\n            const cloned = fns.slice()\n            for (let i = 0; i < cloned.length; i++) {\n                cloned[i].apply(null, arguments)\n            }\n        } else {\n            return fns.apply(null, arguments)\n        }\n    }\n    invoker.fns = fns\n    return invoker\n}\n\n\nconst normalizeEvent = function(name: string) {\n    return {\n        name\n    }\n}\n\n\nexport function updateListeners (\n    on: any,\n    oldOn: any,\n    add: Function,\n    remove: Function,\n    vm: any\n) {\n    let name, def, cur, old, event\n\n    for (name in on) {\n        def = cur = on[name]\n        old = oldOn[name]\n\n        event = normalizeEvent(name)\n\n        if (isUndef(cur)) {\n            // TODO\n        } else if (isUndef(old)) {\n            if (isUndef(cur.fns)) {\n                cur = on[name] = createFnInvoker(cur)\n            }\n            add(event.name, cur)\n        } else if (cur !== old) {\n            old.fns = cur\n            on[name] = old\n        }\n    }\n    for (name in oldOn) {\n        if (isUndef(on[name])) {\n            event = normalizeEvent(name)\n            remove(event.name, oldOn.name)\n        }\n    }\n}","import { isUndef } from '../../shared/util'\nimport { updateListeners } from '../../core/vdom/helpers/index'\n\n\nlet target: any\n\n\nfunction add(\n    event: string,\n    handler: Function\n) {\n    // TODO\n    target.addEventListener(event, handler, false)\n}\n\nfunction remove(\n    event: string,\n    handler: Function\n) {\n    // TODO\n    target.removeEventListener(event, handler, false)\n}\n\n\nfunction updateDOMListeners(\n    oldVnode: any,\n    vnode: any\n) {\n    if (isUndef(oldVnode.data.on) && isUndef(vnode.data.on)) {\n        return\n    }\n    const on = vnode.data.on || {}\n    const oldOn = oldVnode.data.on || {}\n\n    target = vnode.elm\n\n    // TODO\n\n    updateListeners(on, oldOn, add, remove, vnode.context)\n\n    target = undefined\n}\n\nexport default {\n    create: updateDOMListeners,\n    update: updateDOMListeners\n}\n\n","import VNode from './vnode'\nimport { isPrimitive, isDef, isTrue, isUndef } from '../util/index'\nimport events from '../../runtime/modules/events'\n\nexport const emptyNode = new VNode('', {}, [])\n\n\nfunction emptyNodeAt(elm: Element) {\n    return new VNode(elm.tagName.toLocaleLowerCase(), {}, [], undefined, elm)\n}\n\n// TODO\nfunction sameVnode(a: any, b: any) {\n    return (\n        a.key === b.key && (\n            a.tag === b.tag && \n            isDef(a.data) === isDef(b.data) \n        )\n    )\n}\n\nfunction createElm(vnode: any, insertedVnodeQueue: [], parentElm?: Element, refElm?: Element) {\n    console.log('createElm:', vnode)\n\n    /****组件的创建****/\n    if (createComponent(vnode, insertedVnodeQueue, parentElm, refElm)) {\n        return\n    }\n\n    /****普通节点的创建****/\n    const data = vnode.data\n    const children = vnode.children\n    const tag = vnode.tag\n\n    if (isDef(tag)) {\n        vnode.elm = document.createElement(tag)\n    \n        createChildren(vnode, children, insertedVnodeQueue)\n    \n        if (data) {\n            setData(vnode, data)\n            invokeCreateHooks(vnode, insertedVnodeQueue)\n        }\n\n        insert(parentElm, vnode.elm, refElm)\n    } else if (isTrue(vnode.isComment)) {\n        // 注释节点\n\n    } else {\n        // 文本节点\n        vnode.elm = document.createTextNode(vnode.text)\n        insert(parentElm, vnode.elm, refElm)\n    }\n\n}\n\nfunction createChildren(vnode: VNode, children: [], insertedVnodeQueue: []) {\n    if (Array.isArray(children)) {\n        for (let i = 0; i < children.length; ++i) {\n            createElm(children[i], insertedVnodeQueue, vnode.elm, null)\n        }\n    } else if (isPrimitive(vnode.text)) {\n        let text = String(vnode.text || vnode.children)\n        vnode.elm.appendChild(document.createTextNode(text))\n    }\n}\n\nfunction setData(vnode: any, data: any) {\n    for (var key in data) {\n        if (key == 'attrs') {\n            for (var attr in data[key]) {\n                vnode.elm.setAttribute(attr, data[key][attr])\n            }\n        }\n    }\n}\n\nfunction insert(parent: Element, elm: Element, ref: Element) {\n    if (parent) {\n        if (ref) {\n            if (ref.parentNode === parent) {\n                parent.insertBefore(elm, ref)\n            }\n        } else {\n            parent.appendChild(elm)\n        }\n    }\n}\n\nfunction addVnodes(\n    parentElm: Element, \n    refElm: Element, \n    vnodes: Array<VNode>, \n    startIdx: number,\n    endIdx: number,\n    insertedVnodeQueue: []\n) {\n    for (; startIdx <= endIdx; ++startIdx) {\n        createElm(\n            vnodes[startIdx], \n            insertedVnodeQueue,\n            refElm\n        )\n    }\n}\n\nfunction removeVnodes(vnodes: any, startIdx: number, endIdx: number) {\n    for (; startIdx <= endIdx; ++startIdx) {\n        const ch = vnodes[startIdx]\n        if (isDef(ch)) {\n            if (isDef(ch.tag)) {\n                // TODO\n                removeNode(ch.elm)\n            } else {// Text node\n                removeNode(ch.elm)\n            }\n        }\n    }\n}\n\nfunction removeNode(el: Element) {\n    const parent = el.parentNode\n\n    if (isDef(parent)) {\n        parent.removeChild(el)\n    }\n}\n\n\n\nfunction isPatchable(vnode: any) {\n    while (vnode.componentInstance) {\n        vnode = vnode.componentInstance._vnode\n    }\n    return isDef(vnode.tag)\n}\n\nfunction updateChildren(parentElm: Element, oldCh: any, newCh: any, insertedVnodeQueue: [], removeOnly?: boolean) {\n    let oldStartIdx = 0\n    let oldEndIdx = oldCh.length - 1\n    let oldStartVnode = oldCh[0]\n    let oldEndVnode = oldCh[oldEndIdx]\n\n    let newStartIdx = 0\n    let newEndIdx = newCh.length - 1\n    let newStartVnode = newCh[0]\n    let newEndVnode = newCh[newEndIdx]\n\n    let refElm\n\n    /**\n     * TODO\n     * 删掉\n     */\n    let index = 0\n    const COUNT = 100\n\n    const canMove = !removeOnly\n\n    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n        index++\n\n        if (index > COUNT) {\n            break\n        }\n\n        if (isUndef(oldStartVnode)) {\n            oldStartVnode = oldCh[++oldStartIdx]\n        } else if (isUndef(oldEndVnode)) {\n            oldEndVnode = oldCh[--oldEndIdx]\n        } else if (sameVnode(oldStartVnode, newStartVnode)) {\n            // 两个新旧开始 相同的节点\n            patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue)\n            oldStartVnode = oldCh[++oldStartIdx]\n            newStartVnode = newCh[++newStartIdx]\n        } else if (sameVnode(oldEndVnode, newEndVnode)) {\n            // TODO\n\n\n        } else if (sameVnode(oldStartVnode, newEndVnode)) {\n            // TODO\n\n\n        } else if (sameVnode(oldEndVnode, newStartVnode)) {\n            // TODO\n\n\n        } else {\n            /**\n             * 重复利用子节点\n             * TODO\n             */\n        }\n    }\n\n    /**\n     * 新增的节点\n     */\n    if (oldStartIdx > oldEndIdx) {\n        refElm = isUndef(newCh[newEndIdx + 1]) ? null : newCh[newEndIdx + 1].elm\n        addVnodes(parentElm, refElm, newCh, newStartIdx, newEndIdx, insertedVnodeQueue)\n    } else if (newStartIdx > newEndIdx) {\n        removeVnodes(oldCh, oldStartIdx, oldEndIdx)\n    }\n}\n\nfunction patchVnode(\n    oldVnode: VNode,\n    vnode: VNode,\n    insertedVnodeQueue: [],\n    removeOnly?: boolean\n) {\n    if (oldVnode === vnode) {\n        return\n    }\n\n    const elm = vnode.elm = oldVnode.elm\n\n\n    let i\n    const data = vnode.data\n\n    /**\n     * 执行钩子函数\n     */\n    if (isDef(data) && isDef(i = data.hook) && isDef(i = i.prepatch)) {\n        i(oldVnode, vnode)\n    }\n\n    const oldCh = oldVnode.children\n    const ch = vnode.children\n\n    /*******************************/\n    /**\n     * 执行update的钩子函数\n     * TODO\n     */\n\n    // 事件从新绑定\n    if (isDef(data) && isPatchable(vnode)) {\n        setTimeout(() => {\n            events.update(oldVnode, vnode)\n        }, 10)\n    }\n    /*******************************/\n\n\n    if (isUndef(vnode.text)) {\n        if (isDef(oldCh) && isDef(ch)) {\n            if (oldCh !== ch) updateChildren(elm, oldCh, ch, insertedVnodeQueue, removeOnly)\n        } else if (isDef(ch)) {\n            // TODO\n\n\n        } else if (isDef(oldCh)) {\n            // TODO\n\n\n        } else if (isDef(oldVnode.text)) {\n            elm.textContent = ''\n        }\n    } else if (oldVnode.text !== vnode.text) {\n        elm.textContent = vnode.text\n    }\n\n    /**\n     * 执行钩子函数\n     */\n    if (isDef(data)) {\n        if (isDef(i = data.hook) && isDef(i = i.postpatch)) i(oldVnode, vnode)\n    }\n}\n\nfunction invokeCreateHooks(vnode: any, insertedVnodeQueue: []) {\n    events.create(emptyNode, vnode)\n}\n\n\nexport function patch(oldVnode: any, vnode: any, hydrating?: boolean, removeOnyl?: boolean) {\n    let isInitialPatch = false\n    const insertedVnodeQueue: [] = []\n\n    \n    if (isUndef(oldVnode)) {\n        // 组件的 mount，生成一个新的root元素\n        isInitialPatch = true\n        createElm(vnode, insertedVnodeQueue)\n    } else {\n        const isRealElement = isDef(oldVnode.nodeType)\n\n        if (!isRealElement && sameVnode(oldVnode, vnode)) {\n            console.log('Update:', 'patchVnode')\n            patchVnode(oldVnode, vnode, insertedVnodeQueue, removeOnyl)\n            console.log('----------Updated----------')\n        } else {\n            if (isRealElement) {\n                oldVnode = emptyNodeAt(oldVnode)\n            }\n\n            const oldElm = oldVnode.elm\n            const parentElm = oldElm.parentNode\n    \n            createElm(\n                vnode,\n                insertedVnodeQueue,\n                oldElm._leaveCb ? null : parentElm,\n                oldElm.nextSibling\n            )\n\n            if (parentElm) {\n                removeVnodes([oldVnode], 0, 0)\n            }\n        }\n    }\n\n    return vnode.elm\n}\n\n\nfunction createComponent(vnode: any, insertedVnodeQueue: [], parentElm: any, refElm: any) {\n    let i = vnode.data\n    if (isDef(i)) {\n\n        if (isDef(i = i.hook) && isDef(i = i.init)) {\n            i(vnode, false)/* hydrating */\n        }\n\n        if (isDef(vnode.componentInstance)) {\n            initComponent(vnode, insertedVnodeQueue)\n            insert(parentElm, vnode.elm, refElm)\n            return true\n        }\n    }\n}\n\nfunction initComponent(vnode: any, insertedVnodeQueue: []) {\n    vnode.elm = vnode.componentInstance.$el\n\n}","\nimport { unicodeRegExp } from '../../core/util/lang'\n\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/\nconst dynamicArgAttribute = /^\\s*((?:v-[\\w-]+:|@|:|#)\\[[^=]+\\][^\\s\"'<>\\/=]*)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/\nconst ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z${unicodeRegExp.source}]*`\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`\nconst startTagOpen = new RegExp(`^<${qnameCapture}`)\nconst startTagClose = /^\\s*(\\/?)>/\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`)\n\n\n\nconst shouldIgnoreFirstNewline = (tag: string, html: string) => tag && html[0] === '\\n'\n\n\n\nexport function parseHTML(html: string, options: any) {\n    const stack: Array<any> = []\n    let index = 0\n    let last, lastTag\n\n    let MAX = 100\n    let count = 0\n\n    while (html) {\n        count++\n        if (count > MAX) {\n            break\n        }\n\n        last = html\n\n        // TODO\n        if (!lastTag || true) {\n            let textEnd = html.indexOf('<')\n\n            if (textEnd === 0) {\n\n                // ③ step\n                const endTagMatch = html.match(endTag)\n                if (endTagMatch) {\n                    const curIndex = index\n                    advance(endTagMatch[0].length)\n                    parseEndTag(endTagMatch[1], curIndex, index)\n                    continue\n                }\n\n                // ① step\n                const startTagMatch = parseStartTag()\n                if (startTagMatch) {\n                    handleStartTag(startTagMatch)\n\n                    if (shouldIgnoreFirstNewline(startTagMatch.tagName, html)) {\n                        advance(1)\n                    }\n                    continue\n                }\n\n            }\n\n            let text, rest, next\n\n            // ② step\n            if (textEnd >= 0) {\n                // TODO detail\n                text = html.substring(0, textEnd)\n            }\n\n            if (textEnd < 0) {\n                text = html\n            }\n\n            if (text) {\n                advance(text.length)\n            }\n\n            if (options.chars && text) {\n                options.chars(text, index - text.length, index)\n            }\n        }\n    }\n\n\n    function advance(n: number) {\n        index += n\n        html = html.substring(n)\n    }\n\n\n    /**\n     * 开始标签的解析\n     */\n    function parseStartTag() {\n        /**\n         * start: [ \"<ul\", \"ul\" ]\n         */\n        const start = html.match(startTagOpen)\n\n        if (start) {\n            const match: any = {\n                tagName: start[1],\n                attrs: [],\n                start: index\n            }\n\n            advance(start[0].length)\n\n            let end, attr: any\n\n            /**\n             * 解析节点的属性\n             * 1. 不是节点闭合标签\n             * 2. 匹配动态属性表达式 或者是 静态属性表达式\n             */\n            while (\n                !(end = html.match(startTagClose)) && \n                ( attr = html.match(dynamicArgAttribute) || html.match(attribute) )\n            ) {\n                /**\n                 * attr: [ \" :class=\\\"bindClass\\\"\", \":class\", \"=\", \"bindClass\", null, null ]\n                 */\n                attr.start = index\n                advance(attr[0].length)\n                attr.end = index\n                match.attrs.push(attr)\n            }\n\n            /**\n             * end: [ \">\", \"\" ]\n             */\n            if (end) {\n                match.unarySlash = end[1]\n                advance(end[0].length)\n                match.end = index\n\n                return match\n            }\n        }\n    }\n\n    function handleStartTag(match: any) {\n        const tagName = match.tagName\n        const unarySlash = match.unarySlash\n\n        // TODO\n        const unary = !!unarySlash\n\n        const l = match.attrs.length\n        const attrs = new Array(l)\n\n        for (let i = 0; i < l; i++) {\n            const args = match.attrs[i]\n            const value = args[3] || args[4] || args[5] || ''\n\n            attrs[i] = {\n                name: args[1],\n                value: value// decodeAttr\n            }\n        }\n\n        if (!unary) {\n            stack.push({\n                tag: tagName,\n                lowerCasedTag: tagName.toLowerCase(),\n                attrs: attrs,\n                start: match.start,\n                end: match.end\n            })\n            lastTag = tagName\n        }\n\n        /**\n         * 执行 options.start\n         * 构建AST树\n         */\n        if (options.start) {\n            options.start(\n                tagName,\n                attrs,\n                unary,\n                match.start,\n                match.end\n            )\n        }\n\n    }\n\n\n    function parseEndTag(tagName: string, start: number, end: number) {\n        let pos, lowerCasedTagName\n\n        if (tagName) {\n            lowerCasedTagName = tagName.toLowerCase()\n            for (pos = stack.length - 1; pos >= 0; pos--) {\n                if (stack[pos].lowerCasedTag === lowerCasedTagName) {\n                    break\n                }\n            }\n        } else {\n            pos = 0\n        }\n\n        if (pos >= 0) {\n            for (let i = stack.length - 1; i >= pos; i--) {\n                if (options.end) {\n                    options.end(stack[i].tag, start, end)\n                }\n            }\n\n            stack.length = pos\n            lastTag = pos && stack[pos - 1].tag\n        }\n\n    }\n\n}","export function getAndRemoveAttr(\n    el: any,\n    name: string,\n    removeFromMap?: boolean\n) {\n    let val\n\n    if ((val = el.attrsMap[name]) != null) {\n        const list = el.attrsList\n\n        for (let i = 0, l = list.length; i < l; i++) {\n            if (list[i].name === name) {\n                list.splice(i, 1)\n                break\n            }\n        }\n    }\n    if (removeFromMap) {\n        delete el.attrsMap[name]\n    }\n    return val\n}\n\nexport function getBindingAttr(\n    el: any,\n    name: string,\n    getStatic?: boolean\n): string | void {\n    const dynamicValue = getAndRemoveAttr(el, ':' + name) || getAndRemoveAttr(el, 'k-bind:' + name)\n\n    if (dynamicValue != null) {\n        return dynamicValue\n    } else if (getStatic !== false) {\n        const staticValue = getAndRemoveAttr(el, name)\n        if (staticValue != null) {\n            return JSON.stringify(staticValue)\n        }\n    }\n}\n\n\n// TODO\nexport function addHandler(\n    el: any,\n    name: string,\n    value: string,\n    range: Array<any>\n) {\n\n    let events = el.events || (el.events = {})\n\n    const newHandler: any = {\n        value: value.trim()\n    }\n\n    const handlers = events[name]\n\n    // TODO\n    if (Array.isArray(handlers)) {\n        handlers.push(newHandler)\n    } else if (handlers) {\n        events[name] = [handlers, newHandler]\n    } else {\n        events[name] = newHandler\n    }\n\n    el.plain = false\n}\n\n\n// TODO\nexport function pluckModuleFunction(\n    modules?: Array<any>,\n    key?: string \n): Array<any> {\n    return modules \n        ? modules.map(m => m[key]).filter(_ => _)\n        : []\n}\n","const defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g\n\n\nexport function parseText(\n    text: string,\n    delimiters?: any\n) {\n    // TODO\n    const tagRE = delimiters ? delimiters : defaultTagRE\n\n    if (!tagRE.test(text)) {\n        return\n    }\n\n    const tokens = []\n    const rowTokens = []\n\n    let lastIndex = tagRE.lastIndex = 0\n    let match, index, tokenValue\n\n    while ((match = tagRE.exec(text))) {\n        index = match.index\n\n\n        // TODO\n        const exp = match[1].trim()\n        tokens.push(`_s(${exp})`)\n        rowTokens.push({ '@binding': exp })\n        lastIndex = index + match[0].length\n    }\n\n    // TODO\n\n    return {\n        expression: tokens.join('+'),\n        tokens: rowTokens\n    }\n}","\nimport { parseHTML } from './html-parser'\nimport { getAndRemoveAttr, addHandler, pluckModuleFunction } from '../helpers'\nimport { extend } from '../../shared/util'\nimport { parseText } from './text-parser'\n\n\n\nexport const onRE = /^@|^k-on:/\n// TODO\nexport const dirRE = /^k-|^@|^:/\n\nexport const forAliasRE = /([\\s\\S]*?)\\s+(?:in|of)\\s+([\\s\\S]*)/\nexport const forIteratorRE = /,([^,\\}\\]]*)(?:,([^,\\}\\]]*))?$/\nconst stripParensRE = /^\\(|\\)$/g\n\n\nlet delimiters: any\n\nlet transforms: any\n\n\n\n\n\n\nexport function createASTElement(\n    tag: string,\n    attrs: Array<any>,\n    parent?: any\n): any {\n    return {\n        type: 1,\n        tag,\n        attrsList: attrs,\n        attrsMap: makeAttrsMap(attrs),\n        // TODO\n        parent,\n        children: []\n    }\n}\n\n\n/**\n * 将 HTML string 转换成 AST。\n * @param template \n * @param options \n */\nexport function parse (\n    template: string,\n    options: any\n) {\n\n    transforms = pluckModuleFunction(options.modules, 'transformNode')\n\n    const stack: Array<any> = []\n\n    let root: any\n    let currentParent: any\n\n\n    function closeElement(element: any) {\n        // console.log('element', element)\n    \n        if (!element.processed) {\n            element = processElement(element, options)\n        }\n\n        if (currentParent && !element.forbidden) {\n            currentParent.children.push(element)\n            element.parent = currentParent\n        }\n\n    }\n\n\n\n    parseHTML(template, Object.assign({}, options, {\n        start(tag: string, attrs: [], unary: boolean, start: number, end: number) {\n            let element: any = createASTElement(tag, attrs, currentParent)\n\n            if (!element.processed) {\n                // 结构指令\n\n                processFor(element)\n                processIf(element)\n            }\n\n            if (!root) {\n                root = element\n            }\n\n            if (!unary) {\n                currentParent = element\n                stack.push(element)\n            } else {\n                \n            }\n        },\n        end(tag: string, start: number, end: number) {\n            const element = stack[stack.length - 1]\n\n            stack.length -= 1\n            currentParent = stack[stack.length - 1]\n\n            closeElement(element)\n        },\n        chars(text: string, start: number, end: number) {\n            if (!currentParent) {\n                return\n            }\n\n            const children = currentParent.children\n\n            if (text) {\n\n                let res, child: any\n\n                if (text !== '' && (res = parseText(text, delimiters))) {\n                    child = {\n                        type: 2,\n                        expression: res.expression,\n                        tokens: res.tokens,\n                        text\n                    }\n                }\n\n                if (child) {\n                    children.push(child)\n                }\n            }\n        }\n    }))\n\n    return root\n}\n\n\n\nfunction makeAttrsMap(attrs: Array<any>) {\n    const map: any = {}\n\n    for (let i = 0, l = attrs.length; i < l; i++) {\n        // TODO\n        map[attrs[i].name] = attrs[i].value\n    }\n\n    return map\n}\n\n\nfunction processFor(el: any) {\n    let exp\n\n    if ((exp = getAndRemoveAttr(el, 'k-for'))) {\n        const res = parseFor(exp)\n\n        if (res) {\n            extend(el, res)\n        } else {\n            // warn TODO\n        }\n    }\n}\n\nfunction parseFor(exp: string) {\n    const inMatch = exp.match(forAliasRE)\n\n    if (!inMatch) return\n\n    const res:any = {}\n\n    res.for = inMatch[2].trim()\n\n    const alias = inMatch[1].trim().replace(stripParensRE, '')\n    const iteratorMatch = alias.match(forIteratorRE)\n\n    if (iteratorMatch) {\n        res.alias = alias.replace(forIteratorRE, '').trim()\n        res.iterator1 = iteratorMatch[1].trim()\n        if (iteratorMatch[2]) {\n            res.iterator2 = iteratorMatch[2].trim()\n        }\n    } else {\n        res.alias = alias\n    }\n    return res\n}\n\nfunction processIf(el: any) {\n    const exp = getAndRemoveAttr(el, 'k-if')\n\n    if (exp) {\n        el.if = exp\n        addIfCondition(el, {\n            exp: exp,\n            block: el\n        })\n    } else {\n        if (getAndRemoveAttr(el, 'k-else') != null) {\n            el.else = true\n        }\n        const elseif = getAndRemoveAttr(el, 'k-else-if')\n\n        if (elseif) {\n            el.elseif = elseif\n        }\n    }\n}\n\nexport function addIfCondition(el: any, condition: any) {\n    if (!el.ifConditions) {\n        el.ifConditions = []\n    }\n    el.ifConditions.push(condition)\n}\n\n\nexport function processElement(\n    element: any,\n    options?: any\n) {\n\n    // TODO\n\n    for (let i = 0; i < transforms.length; i++) {\n        element = transforms[i](element, options) || element\n    }\n\n    processAttrs(element)\n\n    return element\n}\n\n\nfunction processAttrs(el: any) {\n    const list = el.attrsList\n    let i, l, name, rawName, value\n\n    for (i = 0, l = list.length; i < l; i++) {\n        name = rawName = list[i].name\n        value = list[i].value\n\n        if (dirRE.test(name)) {\n            el.hasBindings = true\n\n            // 阻止冒泡 TODO\n\n\n            if (onRE.test(name)) {\n                // k-on \n                name = name.replace(onRE, '')\n\n                addHandler(el, name, value, list[i])\n            }\n\n\n        }\n    }\n}","\nexport function genHandlers(\n    events: any,\n    isNative: boolean\n): string {\n\n    let res = isNative ? 'nativeOn:{' : 'on:{'\n\n    for (const name in events) {\n        res += `\"${name}\":${getHandler(name, events[name])},`\n    }\n\n    return res.slice(0, -1) + '}'\n}\n\n\nconst fnExpRE = /^\\s*([\\w$_]+|\\([^)]*?\\))\\s*=>|^function\\s*\\(/\nconst simplePathRE = /^\\s*[A-Za-z_$][\\w$]*(?:\\.[A-Za-z_$][\\w$]*|\\['.*?']|\\[\".*?\"]|\\[\\d+]|\\[[A-Za-z_$][\\w$]*])*\\s*$/\n\nfunction getHandler(\n    name: string,\n    handler: any\n): string {\n    if (!handler) {\n        return 'function(){}'\n    }\n\n    if (Array.isArray(handler)) {\n        return `[${handler.map(handler => getHandler(name, handler)).join(',')}]`\n    }\n\n    const isMethodPath = simplePathRE.test(handler.value)\n    const isFunctionExpression = fnExpRE.test(handler.value)\n\n    if (!handler.modifiers) {\n        if (isMethodPath || isFunctionExpression) {\n            return handler.value\n        }\n\n        return `function($event){${handler.value}}`\n    } else {\n        // TODO\n\n\n        \n\n    }\n}","import { pluckModuleFunction } from '../helpers'\nimport { genHandlers } from './events'\n\nclass CodegenState {\n    options: any;\n    dataGenFns: Array<any>;\n\n    constructor(options: any) {\n        this.options = options\n\n        this.dataGenFns = pluckModuleFunction(options.modules, 'genData')\n    }\n}\n\n\n\nexport function generate(\n    ast: any,\n    options: any\n) {\n    const state = new CodegenState(options)\n    const code = ast ? genElement(ast, state) : '_c(\"dvi\")'\n\n    return {\n        render: `with(this){return ${code}}`\n    }\n}\n\nexport function genElement(\n    el: any,\n    state: any\n): string {\n\n    if (el.for && !el.forProcessed) {\n        return genFor(el, state)\n    } else if (el.if && !el.ifProcessed) {\n        return genIf(el, state)\n    } else {\n        let code\n\n        let data = genData(el, state)\n        const children = genChildren(el, state, true)\n        \n        code = `_c('${el.tag}'${\n            data ? `,${data}` : ''// data\n        }${\n            children ? `,${children}` : ''// children\n        })`\n\n        return code\n    }\n}\n\n\n\n\nexport function genIf(\n    el: any,\n    state: any\n) {\n    el.ifProcessed = true\n    return genIfConditions(el.ifConditions.slice(), state)\n}\n\nfunction genIfConditions(\n    conditions: any,\n    state: any\n): string {\n    if (!conditions.length) {\n        return '_e()'\n    }\n\n    const condition = conditions.shift()\n\n    if (condition.exp) {\n        return `(${condition.exp})?${\n            genTernaryExp(condition.block)\n        }:${\n            genIfConditions(conditions, state)\n        }`\n    } else {\n        return `${genTernaryExp(condition.block)}`\n    }\n\n    function genTernaryExp(el: any) {\n        // TODO\n        return genElement(el, state)\n    } \n}\n\n\nexport function genData(el: any, state: any): string {\n    let data = '{'\n\n    \n    // 模块数据生成方法\n    for (let i = 0; i < state.dataGenFns.length; i++) {\n        data += state.dataGenFns[i](el)\n    }\n\n    // event hanlders\n    if (el.events) {\n        data += `${genHandlers(el.events, false)},`\n    }\n\n    data = data.replace(/,$/, '') + '}'\n\n    return data\n}\n\nexport function genChildren(\n    el: any,\n    state: any,\n    checkSkip?: boolean\n): string | void {\n    const children: Array<any> = el.children\n\n    if (children.length) {\n        const el: any = children[0]\n\n        // TODO\n        if (children.length === 1 && el.for) {\n            const normalizationType = checkSkip \n                ? `,0` : ``\n            return `${genElement(el, state)}${normalizationType}`\n        }\n\n        // TODOs\n        const normalizationType = getNormalizationType(children, false)\n        const gen = genNode\n\n        return `[${children.map(c => gen(c, state)).join(',')}]${\n            normalizationType ? `,${normalizationType}` : ''\n        }`\n    }\n}\n\nfunction getNormalizationType(\n    children: Array<any>,\n    maybeComponent: any\n): number {\n    // TODO\n    return 0\n}\n\nfunction genNode(node: any, state: any): string {\n    // TODO\n    if (node.type === 1) {\n        return genElement(node, state)\n    } else {\n        return genText(node)\n    }\n}\n\nexport function genText(text: any): string {\n    return `_v(${text.type === 2 \n        ? text.expression\n        : JSON.stringify(text.text)\n    })`\n}\n\n\n\n\nexport function genFor(\n    el: any,\n    state: any\n): string {\n    const exp = el.for\n    const alias = el.alias\n    const iterator1 = el.iterator1 ? `,${el.iterator1}` : ''\n    const iterator2 = el.iterator2 ? `,${el.iterator2}` : ''\n\n    el.forProcessed = true\n\n    return `_l((${exp}),function(${alias}${iterator1}${iterator2}){`+\n        `return ${genElement(el, state)}`+\n    `})`\n\n}","import { noop, extend } from '../shared/util'\n\nfunction createFunction(code: string, errors: Array<any>): Function {\n    try {\n        return new Function(code)\n    } catch (err) {\n        errors.push({err, code})\n        return noop\n    }\n}\n\nexport function createCompileToFunctionFn(compile: Function): Function {\n    const cache: any = Object.create(null)\n\n    return function compileToFunctions(\n        template: string,\n        options?: any,\n        vm?: any\n    ) {\n        options = extend({}, options)\n\n        const key = template\n\n        if (cache[key]) {\n            return cache[key]\n        }\n\n        const compiled = compile(template, options)\n        const res: any = {}\n\n        const fnGenErrors: Array<any> = []\n        res.render = createFunction(compiled.render, fnGenErrors)\n\n        return (cache[key] = res)\n    }\n}","import {\n    getAndRemoveAttr,\n    getBindingAttr\n} from '../helpers'\n\nfunction transformNode(el: any, options: any) {\n    const staticClass = getAndRemoveAttr(el, 'class')\n\n    if (staticClass) {\n        el.staticClass = JSON.stringify(staticClass)\n    }\n\n    const classBinding = getBindingAttr(el, 'class', false)\n    if (classBinding) {\n        el.classBinding = classBinding\n    }\n}\n\nfunction genData(el: any): string {\n    // class\n    let data = ''\n    if (el.staticClass) {\n        data += `staticClass:${el.staticClass},`\n    }\n    if (el.classBinding) {\n        data += `class:${el.classBinding},`\n    }\n    return data\n}\n\nexport default {\n    staticKeys: ['staticClass'],\n    transformNode,\n    genData\n}","import klass from './class'\n\nexport default [\n    klass\n]","import { parse } from './parser/index'\nimport { generate } from './codegen/index'\nimport { createCompileToFunctionFn } from './to-function'\n\nimport modules from './modules/index'\n\n\n\n\n/********************************src/compiler/create-compiler***********************************/\nfunction createCompilerCrerator(baseCompile: Function): Function {\n    return function createCompiler(baseOptions: any) {\n        function compile(template: string, options?: any) {\n            const finalOptions = Object.create(baseOptions)\n\n            const compiled = baseCompile(template.trim(), finalOptions)\n\n            return compiled\n        }\n\n        return {\n            compile,\n            compileToFunctions: createCompileToFunctionFn(compile)\n        }\n    }\n}\n\n\n\n\n/********************************src/compiler/index***********************************/\nexport const createCompiler = createCompilerCrerator(function baseCompile(template: string, options: any) {\n    const ast = parse(template.trim(), options)\n\n    console.log('ast', ast)\n\n    const code = generate(ast, options)\n\n    return {\n        ast,\n        render: code.render\n    }\n})\n\n\n\n\n/********************************platforms/web/compiler/index***********************************/\n// TODO\nconst baseOptions: any = {\n    modules\n}\n\nconst { compile, compileToFunctions } = createCompiler(baseOptions)\n\n\nexport { compile, compileToFunctions }","// @ts-nocheck\n\nimport { warn, query, mergeOptions } from '../util/index'\nimport { initMixin } from './init'\nimport { lifecycleMixin, mountComponent } from './lifecycle'\nimport { renderMixin } from './render'\nimport { patch } from '../vdom/patch'\n\n/**\n * compile\n * TODO\n */\nimport { compileToFunctions } from '../../compiler/index'\n\n\n\nfunction Kyue(options: any) {\n    if (process.env.NODE_ENV !== 'production' && !(this instanceof Kyue)) {\n        warn('Kyue is a constructor and should be called with the `new` keyword')\n    }\n    \n    this._init(options)\n}\n\nKyue.prototype.$mount = function(el?: string | Element, hydrating?: boolean) {\n    // compile TODO\n    const options = this.$options\n    \n    if (!options.render) {\n        let template = options.template\n\n        if (template) {\n            // TODO\n\n\n        } else if (el) {\n            // TODO\n            // template = getOuterHTML(el)\n        }\n\n        if (template) {\n            const { render } = compileToFunctions(template, {\n\n            })\n            options.render = render\n        }\n    }\n    \n\n    el = el && query(el)\n    return mountComponent(this, el, hydrating)\n}\n\nKyue.prototype.__patch__ = patch\n\n/**\n * 1、给实例添加_init方法\n * 2、组件调用 $mount 方法进行挂载\n */ \ninitMixin(Kyue)\n/**\n * 1、给实例添加_update方法 \n *  \n */ \nlifecycleMixin(Kyue)\n/**\n * 1、给实例添加_render方法\n *  该方法生成虚拟DOM：vnode\n */ \nrenderMixin(Kyue)\n\n\n/**\n * 全局API\n * 书写位置TODO\n */ \nKyue.options = Object.create(null)\nKyue.options._base = Kyue\n\nKyue.cid = 0\nlet cid = 1\n\nKyue.extend = function(extendOptions: any): Function {\n    extendOptions = extendOptions || {}\n    const Super = this\n    const SuperId = Super.cid\n    const cachedCtors = extendOptions._Ctor || (extendOptions._Ctor = {})\n    if (cachedCtors[SuperId]) {\n        return cachedCtors[SuperId]\n    }\n\n    const name = extendOptions.name || Super.options.name\n\n    const Sub = function KyueComponent(options: any) {\n        this._init(options)\n    }\n    Sub.prototype = Object.create(Super.prototype)\n    Sub.prototype.constructor = Sub\n    Sub.cid = cid++\n    \n    Sub.options = mergeOptions(\n        Super.options,\n        extendOptions\n    )\n    Sub.super = Super\n\n    Sub.extend = Super.extend\n\n    Sub.superOptions = Super.options\n    Sub.extendOptions = extendOptions\n    \n    // cache constructor\n    cachedCtors[SuperId] = Sub\n    return Sub\n}\n\n\nexport default Kyue"],"names":["util","require$$0","require$$1","uid","isObject","remove","createComponent","genData"],"mappings":"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"}