<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>d3-selection</title>
    </head>
    <body>

        <div class="container">
            <div class="row">11</div>
            <div class="row">22</div>
        </div>

        <script type="text/javascript" src="../node_modules/d3-selection/build/d3-selection.js"></script>
        <script type="text/javascript">
            // console.log(d3);
            // var svg = d3.select('div.container').append("svg");
            //
            // function transform(d, i) {
            //     return 'translate('+[(i + 1) * 30, (i + 1) * 30]+')';
            // }

            // function render(data) {
            //     var circle = svg.selectAll("circle")
            //     .data(data)
            //     .attr('r', 25)
            //     .attr('transform', transform)
            //     .style("fill", function(d) {
            //         return d.color;
            //     })
            //     .style("stroke", function(d) {
            //         return d.color;
            //     });
            //
            //
            //     circle.enter().append("circle")
            //     .attr('r', 25)
            //     .attr('transform', transform)
            //     .style("fill", function(d) {
            //         return d.color;
            //     })
            //     .style("stroke", function(d) {
            //         return d.color;
            //     });
            //
            //     circle.exit().remove();
            //
            // }

            // var container = d3.select('div.container');
            //
            // console.log(container);
            //
            // var item = container.select('p.item');
            //
            // console.log(item);
            //
            // function render(data) {
            //     var circle = container.selectAll("p.item")
            //     .data(data);
            //
            //     // console.log(circle);
            //
            //     var merge = circle.enter().append("p")
            //     .merge(circle);
            //
            //     merge.attr('class', 'item')
            //     .style("width", '50px')
            //     .style("height", '50px')
            //     .style("background", function(d) {
            //         return d.color;
            //     })
            //     .text(function(d) {
            //         return d.text;
            //     });
            //
            //     circle.exit().remove();
            //
            // }

            // render([{
            //     text: '1',
            //     color: 'red'
            // }, {
            //     text: '2',
            //     color: 'green'
            // }, {
            //     text: '4',
            //     color: 'green'
            // }]);

            // setTimeout(function() {
            //     render([{
            //         text: '1',
            //         color: 'yellow'
            //     }, {
            //         text: '2',
            //         color: 'green'
            //     }, {
            //         text: '3',
            //         color: 'blue'
            //     }, {
            //         text: '4',
            //         color: 'blue'
            //     }]);
            // }, 1000);


            // var container = d3.select('div.container');
            // var rows = container.selectAll('div.row').data([1, 2, 3, 4, 5]);
            // console.log(rows);

            var container = d3.select('div.container');

            function render(data) {
                var rows = container.selectAll('div').data(data);

                console.log(rows);

                rows.text(function(d, i) {
                    return d;
                });

                var enter = rows.enter();
                enter.append('div').merge(rows).text(function(d, i) {
                    return d;
                });

                console.log(enter);

                var exit = rows.exit();

                exit.remove();

                console.log(exit);
            }

            render([1, 2, 3]);

            setTimeout(function() {
                render([0, 2, 3, 4, 5]);
            }, 1000);


        </script>
    </body>
</html>
